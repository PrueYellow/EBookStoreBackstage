@model IEnumerable<EBookStore.Site.Models.ViewModels.WriterIndexVm>

<div class="mt-3">
    <table class="table">
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProfileText)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr class="writer" data-id="@item.Id">

                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProfileText)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>

            </tr>
        }

    </table>
</div>
    @section Scripts {
        @Scripts.Render("~/bundles/jquery")

        <script>
            $(function () {
                $('.writer').each(function () {

                    $(this).on("click", function () {
                        var writerId = $(this).attr("data-id");
                        $(location).attr("href", "/Articles/GetWriterId?writerId=" + writerId);



                    })
                })

            })

        </script>

    }


@model IEnumerable<EBookStore.Site.Models.ViewModels.WriterIndexVm>


<table class="table">
    <tr>

        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ProfileText)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr class="writer" data-id="@item.Id">

            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProfileText)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>

        </tr>
    }

</table>

@section Writers {
    <script>
        $(function () {
            $('.writer').each(function () {
                var self = $(this);
                $(this).on("click", function () {
                    var writerId = self.attr("data-id");

                    window.opener.$('#Title').val(writerId);
                    window.close();

                })
            })

        })

    </script>



}
